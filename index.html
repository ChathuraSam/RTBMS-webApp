<!-- <!doctype html> -->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <title>RTBMS-webApp</title>

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="icon" sizes="192x192" href="images/android-desktop.png">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Material Design Lite">
  <link rel="apple-touch-icon-precomposed" href="images/ios-desktop.png">
  <!-- Tile icon for Win8 (144x144 + tile color) -->
  <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">
  <meta name="msapplication-TileColor" content="#3372DF">

  <link rel="shortcut icon" href="images/logo.png">

  <link rel="stylesheet" type="text/css" href="css/video-component.css" media="all">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.cyan-light_blue.min.css">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" type="text/css" href="css/my-custom-style.css">

</head>
<body>
  <div class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
    <header class="demo-header mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600">
      <div class="mdl-layout__header-row">
        <img src="images/logo.png" width="60">
        <span class="mdl-layout-title">Real Time Background Monitoring System<br> &copy Beta version 1.0</span>
        <div class="mdl-layout-spacer"></div>
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
          <label class="mdl-button mdl-js-button mdl-button--icon" for="search">
            <i class="material-icons">search</i>
          </label>
          <div class="mdl-textfield__expandable-holder">
            <input class="mdl-textfield__input" type="text" id="search">
            <label class="mdl-textfield__label" for="search">Enter your query...</label>
          </div>
        </div>
        <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" id="hdrbtn">
          <i class="material-icons">more_vert</i>
        </button>
        <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right" for="hdrbtn">
          <li class="mdl-menu__item">About</li>
          <li class="mdl-menu__item">Contact</li>
          <li class="mdl-menu__item">Legal information</li>
        </ul>
      </div>

    </header>
    <div class="demo-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50">
      <header class="demo-drawer-header">
        <img src="images/user.jpg" class="demo-avatar">
        <div class="demo-avatar-dropdown">
          <span>admin@rtbms.com</span>
          <div class="mdl-layout-spacer"></div>
          <button id="accbtn" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
            <i class="material-icons" role="presentation">arrow_drop_down</i>
            <span class="visuallyhidden">Accounts</span>
          </button>
          <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="accbtn">
            <li class="mdl-menu__item">hello@example.com</li>
            <li class="mdl-menu__item">info@example.com</li>
            <li class="mdl-menu__item"><i class="material-icons">add</i>Add another account...</li>
          </ul>
        </div>
      </header>
      <nav class="demo-navigation mdl-navigation mdl-color--blue-grey-800">
        <a class="mdl-navigation__link" href="index.html"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">home</i>Home</a>
        <a class="mdl-navigation__link" href="users.html"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">inbox</i>Users</a>
        <a class="mdl-navigation__link" href="add-user.html"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">person_add</i>Add Users</a>
        <a class="mdl-navigation__link" href="delete-user.html"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">report</i>Delete Users</a>
        <a class="mdl-navigation__link" href="calendar.html"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">forum</i>Calendar</a>
        <a class="mdl-navigation__link" href="history.html"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">flag</i>History</a>
        <div class="mdl-layout-spacer"></div>
        <a class="mdl-navigation__link" href="feedback.html"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">help_outline</i><span class="visuallyhidden">Feedback</span></a>
      </nav>
    </div>play
    <main class="mdl-layout__content mdl-color--grey-100">
      <div class="mdl-grid demo-content">
        <div class="demo-charts mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid">
          <header>
            Main Camera Video
          </header>
        </div>

        <div class="demo-graphs mdl-shadow--2dp mdl-color--white mdl-cell mdl-cell--8-col">

          <span styplayle="margin="10px"">
          </span>
          <!-- kalin thibba code set eka. meken thama motion eka gaththe -->
          <!-- <div class="video-frame">
          <video id="webCamWindow" autoplay style="margin-left:10%; margin-top:10%;"></video>
          <div id="movement" style="margin-left:10%; margin-top:10%;"></div>
        </div> -->

        <!--  here the  new video components -->
        <p>
          <button onclick="startWebcam();" class="mdl-button mdl-js-bplayutton mdl-button--raised mdl-button--colored">Start WebCam</button>
          <button onclick="stopWebcam();" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">Stop WebCam</button>
          <button onclick="snapshot();" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">Take Snapshot</button>
        </p>

        <video onclick="snapshot(this);" width=600 height=500 id="video" controls autoplay></video>

        Screenshots : <p>
          <canvas  id="myCanvas" width="100" height="100"></canvas>
        </div>

        <div class="demo-cards mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-grid mdl-grid--no-spacing">
          <div class="demo-updates mdl-card mdl-shadow--2dp mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--12-col-desktop">

            <div class="mdl-card__title mdl-card--expand mdl-color--teal-300">
              <canvas width="100" height="100" id="canvas">Sorry, no canvas available</canvas>
              <h2 class="mdl-card__title-text">Updates</h2>
            </div>

            <div class="mdl-card__supporting-text mdl-color-text--grey-600">
              Latestly Captured images appears here.
            </div>
            <div class="mdl-card__actions mdl-card--border">
              <a href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect">Authenticate</a>
            </div>
          </div>
          <div class="demo-separator mdl-cell--1-col"></div>
          <div class="demo-options mdl-card mdl-color--deep-purple-500 mdl-shadow--2dp mdl-cell mdl-cell--4-col mdl-cell--3-col-tablet mdl-cell--12-col-desktop">
            <div class="mdl-card__supporting-text mdl-color-text--blue-grey-50">
              <h3>Connected Users<!-- Number badge on icon -->
                <div class="material-icons mdl-badge mdl-badge--overlap" data-badge="2" id = "active-users">account_box</div></h3>
                <ul>
                  <li>
                    <i class="material-icons mdl-list__item-icon">person</i>
                    Bryan
                  </li>
                  <iconli>
                    <i class="material-icons mdl-list__item-icon">person</i>
                    Ann
                  </li>
                  <li>
                    <i class="material-icons mdl-list__item-icon">person</i>
                    Bob
                  </li>
                  <li>
                    <i class="material-icons mdl-list__item-icon">person</i>
                    Tailor
                  </li>
                </ul>
              </div>
              <div class="mdl-card__actions mdl-card--border">
                <a href="#" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-color-text--blue-grey-50">Change location</a>
                <div class="mdl-layout-spacer"></div>
                <i class="material-icons">location_on</i>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

<script src="https://code.getmdl.io/1.3.0/material.min.js"></script>

<!-- Video Capture scripts -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="bootstrap/js/bootstrap.min.js"></script>

<script>

navigator.getUserMedia = ( navigator.getUserMedia ||navigator.webkitGetUserMedia ||navigator.mozGetUserMedia ||navigator.msGetUserMedia);

  var video;
  var webcamStream;

  function startWebcam() {
    if (navigator.getUserMedia) {
      navigator.getUserMedia (

        // constraints
        {
          video: true,
          audio: false
        },

        // successCallback
        function(localMediaStream) {
          video = document.querySelector('video');
          video.src = window.URL.createObjectURL(localMediaStream);
          webcamStream = localMediaStream;
        },

        // errorCallback
        function(err) {
          console.log("The following error occured: " + err);
        }
      );
    } else {
      console.log("getUserMedia not supported");
    }
  }

  function stopWebcam() {
    webcamStream.stop();
    console.log("Stop button clicked");
  }
  //---------------------
  // TAKE A SNAPSHOT CODE
  //---------------------
  /**
 *    Ken Fyrstenberg Nilsen
 *    Abidas Software
*/
var canvas = document.getElementById('canvas'),
    ctx = canvas.getContext('2d');

/**
 * Demonstrates how to download a canvas an image with a single
 * direct click on a link.
 */
function doCanvas() {
    /* draw something */
    ctx.fillStyle = '#f90';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = '#fff';
    ctx.font = '60px sans-serif';
    ctx.fillText('Code Project', 10, canvas.height / 2 - 15);
    ctx.font = '26px sans-serif';
    ctx.fillText('Click link below to save this as image', 15, canvas.height / 2 + 35);
}

function downloadCanvas(link, canvasId, filename) {
    link.href = document.getElementById(canvasId).toDataURL();
    link.download = filename;
}

/** 
 * The event handler for the link's onclick event. We give THIS as a
 * parameter (=the link element), ID of the canvas and a filename.
*/
document.getElementById('download').addEventListener('click', function() {
    downloadCanvas(this, 'canvas', 'test.png');
}, true);

/**
 * Draw something to canvas
 */
doCanvas();


  </script>
  <!-- Video Capture scripts -->
</body>
</html>
